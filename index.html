<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>For Gunna â¤ï¸</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
    /* 1. GLOBAL RESET */
    * {
        box-sizing: border-box;
    }

    :root { 
        --bg-pink: #ffb7c5;
        --deep-red: #d92525; 
        --glass-white: rgba(255, 255, 255, 0.9);
    }
    
    html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow-x: hidden; 
    }

    body {
        font-family: 'Poppins', sans-serif;
        background-color: var(--bg-pink);
        background-image: url('background.jpg'); 
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        text-align: center;
        cursor: auto; 
    }

    #background-decoration {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 1; 
        pointer-events: none;
    }

    .bg-object {
        position: absolute;
        opacity: 0.15;
        animation: floatBackground 15s infinite linear;
        font-size: 4rem;
        filter: drop-shadow(0 4px 4px rgba(0,0,0,0.1));
    }

    @keyframes floatBackground {
        0% { transform: translateY(110vh) rotate(0deg); }
        100% { transform: translateY(-20vh) rotate(360deg); }
    }

    /* 2. CONTAINER ALIGNMENT */
    .container {
        width: 100%;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 20px;
        padding-bottom: 50px;
        position: relative;
        z-index: 10; 
    }

    .title {
        font-family: 'Great Vibes', cursive; 
        font-size: 60px; 
        color: var(--deep-red);
        margin-bottom: 20px;
        text-shadow: 3px 3px 0px rgba(255, 255, 255, 0.4); 
        animation: fadeDown 1.2s ease;
        line-height: 1.2;
        width: 100%;
        text-align: center;
    }

    .card {
        background: var(--glass-white);
        padding: 30px;
        border-radius: 30px;
        box-shadow: 0 20px 50px rgba(217, 37, 37, 0.15);
        animation: fadeUp 1s ease;
        position: relative; 
        z-index: 20; 
        width: 100%;
        max-width: 500px;
        border: 2px solid rgba(255,255,255,0.8);
        backdrop-filter: blur(8px);
        margin: 20px auto; 
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .page {
        display: none;
        opacity: 0;
        transition: .5s;
        width: 100%; 
        flex-direction: column;
        align-items: center;
    }

    .active {
        display: flex; 
        opacity: 1;
    }

    img {
        width: 100%;
        max-height: 300px;
        border-radius: 20px;
        margin-top: 20px;
        animation: zoom 1.2s ease;
        object-fit: cover;
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }

    button {
        background: var(--deep-red);
        border: none;
        color: white;
        padding: 12px 35px;
        font-size: 24px;
        font-family: 'Great Vibes', cursive; 
        border-radius: 50px;
        cursor: pointer;
        margin-top: 25px;
        transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 10px 20px rgba(217, 37, 37, 0.2);
        cursor: inherit; 
    }

    button:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 15px 30px rgba(217, 37, 37, 0.3);
        background: #c01f1f;
    }

    .btn-group {
        width: 100%;
        margin-top: 30px;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px; 
        height: 60px; 
        position: static; 
    }

    #yes-btn {
        z-index: 100;
    }

    #no-btn {
        background: #555; 
        z-index: 100;
        transition: 0.2s ease-out; 
        position: relative; 
    }

    .typing { 
        font-size: 18px; 
        line-height: 1.8; 
        color: #555; 
        white-space: pre-wrap; 
        margin-top: 10px;
        font-weight: 500;
        font-family: 'Poppins', sans-serif;
        text-align: center; 
        width: 100%;
    }

    .particle {
        position: fixed;
        bottom: -50px; 
        font-size: 35px;
        animation: floatUpHalf 4s linear forwards;
        pointer-events: none; 
        z-index: 9999; 
    }

    @keyframes floatUpHalf {
        0% { transform: translateY(0) scale(0.8); opacity: 0; }
        10% { opacity: 1; }
        80% { opacity: 1; }
        100% { transform: translateY(-55vh) scale(1.2); opacity: 0; }
    }

    @keyframes fadeDown { from { opacity: 0; transform: translateY(-30px) } to { opacity: 1; transform: none } }
    @keyframes fadeUp { from { opacity: 0; transform: translateY(30px) } to { opacity: 1; transform: none } }
    @keyframes zoom { from { transform: scale(.8); opacity: 0 } to { transform: scale(1); opacity: 1 } }
    
    @media (max-width: 600px) {
        .title { font-size: 45px; }
        .card { padding: 20px; width: 95%; }
    }
</style>
</head>
<body>
    
    <audio id="bgm" src="song.mp3" preload="auto" loop></audio>

    <div id="background-decoration"></div>
    
    <div class="container">

        <div class="page active" id="p1">
            <div class="title">Happy Valentine's Week</div>
            <div class="card">
                <p id="intro" class="typing"></p>
                <button onclick="next(2)">Start Surprise âœ</button>
            </div>
        </div>

        <div class="page" id="p2">
            <div class="title">Rose Day</div>
            <div class="card">
                <p id="t2" class="typing"></p>
                <img src="https://images.unsplash.com/photo-1518709766631-a6a7f45921c3?w=500&auto=format&fit=crop" />
                <br><button onclick="next(3)">Next âœ</button>
            </div>
        </div>

        <div class="page" id="p3">
            <div class="title">Propose Day</div>
            <div class="card">
                <p id="t3" class="typing"></p>
                <img src="https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?w=500&auto=format&fit=crop" />
                <br><button onclick="next(4)">Next âœ</button>
            </div>
        </div>

        <div class="page" id="p4">
            <div class="title">Chocolate Day</div>
            <div class="card">
                <p id="t4" class="typing"></p>
                <img src="https://images.unsplash.com/photo-1606312619070-d48b4c652a52?w=500&auto=format&fit=crop" />
                <br><button onclick="next(5)">Next âœ</button>
            </div>
        </div>

        <div class="page" id="p5">
            <div class="title">Teddy Day</div>
            <div class="card">
                <p id="t5" class="typing"></p>
                <img src="https://images.unsplash.com/photo-1559458201-929737c3583d?w=500&auto=format&fit=crop" />
                <br><button onclick="next(6)">Next âœ</button>
            </div>
        </div>

        <div class="page" id="p6">
            <div class="title">Promise Day</div>
            <div class="card">
                <p id="t6" class="typing"></p>
                <img src="https://images.unsplash.com/photo-1510022079733-8b58aca7c4a9?w=500&auto=format&fit=crop" />
                <br><button onclick="next(7)">Next âœ</button>
            </div>
        </div>

        <div class="page" id="p7">
            <div class="title">Hug Day</div>
            <div class="card">
                <p id="t7" class="typing"></p>
                <img src="https://images.unsplash.com/photo-1517677130602-23c233c7a26d?w=500&auto=format&fit=crop" />
                <br><button onclick="next(8)">Next âœ</button>
            </div>
        </div>

        <div class="page" id="p8">
            <div class="title">Kiss Day</div>
            <div class="card">
                <p id="t8" class="typing"></p>
                <img src="https://images.unsplash.com/photo-1522567552226-7bd06a7f5358?w=500&auto=format&fit=crop" />
                <br><button onclick="next(9)">Next âœ</button>
            </div>
        </div>

        <div class="page" id="p9">
            <div class="title">Valentine's Day</div>
            <div class="card">
                <p id="final" class="typing"></p>
                <img src="https://images.unsplash.com/photo-1518568814500-bf0f8d125f46?w=500&auto=format&fit=crop" />
                <br><button onclick="next(10)">One Last Question âœ</button>
            </div>
        </div>

        <div class="page" id="p10">
            <div class="title">Will you be my Girlfriend? ğŸ¥º</div>
            <div class="card" id="q-card">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3h5ZnpwZ2Z5ZnZ5ZnZ5ZnZ5ZnZ5ZnZ5ZnZ5ZnZ5ZnZ5ZnZ5ZnZ5/26FLdmIp6wJr91JAI/giphy.gif" style="max-height: 200px; border-radius: 10px;" />
                <p class="typing" style="font-weight: bold; margin-top: 20px;">
                    Gunna, I promise to always make you smile. â¤ï¸
                </p>
                
                <div class="btn-group">
                    <button id="yes-btn" onclick="next(11)">Yes! ğŸ’–</button>
                    <button id="no-btn" onmouseover="moveButton()">No ğŸ’”</button>
                </div>
            </div>
        </div>

        <div class="page" id="p11">
            <div class="title">Woohoo! ğŸ‰</div>
            <div class="card">
                <img src="https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=500&auto=format&fit=crop" alt="Happy Couple" />
                <p class="typing" style="font-size: 22px; color: #d92525; font-weight: bold;">
                    Congrats! Aapki mere saath permanent booking ho chukii hai! â¤ï¸ğŸ”’
                </p>
                <p class="typing">Now there is no going back. I love you! ğŸ˜˜</p>
            </div>
        </div>

    </div>

<script>
    // --- 3D FLOATING BACKGROUND ---
    const bgObjects = ['ğŸ’', 'ğŸ“…', 'ğŸ«', 'ğŸ¹', 'ğŸ”’', 'ğŸ“«', 'ğŸƒ', 'ğŸ', 'â¤ï¸'];
    
    function createBackgroundDecoration() {
        const container = document.getElementById('background-decoration');
        for(let i=0; i<20; i++) {
            const el = document.createElement('div');
            el.className = 'bg-object';
            el.innerText = bgObjects[Math.floor(Math.random() * bgObjects.length)];
            el.style.left = Math.random() * 100 + 'vw';
            el.style.animationDuration = (Math.random() * 10 + 10) + 's'; 
            el.style.animationDelay = (Math.random() * 5) + 's';
            el.style.fontSize = (Math.random() * 3 + 2) + 'rem'; 
            container.appendChild(el);
        }
    }
    createBackgroundDecoration();

    // --- MOVE THE NO BUTTON (THE TRICK) ---
    let hoverCount = 0;
    let initialButtonY = null; // Store the "Floor"

    function moveButton() {
        const btn = document.getElementById('no-btn');
        const card = document.getElementById('q-card'); 
        
        // 1. CAPTURE THE FLOOR (First time only)
        if (initialButtonY === null) {
            initialButtonY = btn.offsetTop;
        }

        hoverCount++;

        if (hoverCount < 9) {
            // PHASE 1: Move INSIDE the card (Strictly UP or EQUAL)
            btn.style.position = 'absolute';
            
            // X: Anywhere within card width
            const maxX = card.clientWidth - btn.offsetWidth; 
            const x = Math.random() * maxX;

            // Y: STRICTLY between 0 (Top) and initialButtonY (The Floor)
            const y = Math.random() * initialButtonY;

            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
            
        } else {
            // PHASE 2: Move ANYWHERE on SCREEN (Fixed)
            btn.style.position = 'fixed';
            
            const x = Math.random() * (window.innerWidth - btn.offsetWidth);
            // Restrict to Top 50% of screen to prevent it from going too low
            const y = Math.random() * (window.innerHeight / 2);
            
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
        }
    }

    // --- TEXT CONTENT ---
    const texts = {
        intro: `Hii Gunna â¤ï¸\n\nKese ho aapâ€¦\nJab se tum meri life mein aayi ho na, tab se har din thoda special lagta hai.\nNormal days bhi memories ban jaate hainâ€¦ aur distance bhi utna bura nahi lagta.\nBecause honestly â€” tum ho toh sab hai.`,
        t2: `Har rose ki tarah tum meri life ko beautiful banati ho.`,
        t3: `14 Feb 2025 â€” best decision of my life, tumse puchna â¤ï¸`,
        t4: `Tumhari baatein chocolate se bhi zyada sweet hoti hain.`,
        t5: `Kaash yeh teddy meri jagah tumhe hug kar pata jab main nahi hota.`,
        t6: `Main promise karta hoon â€” distance kabhi feelings kam nahi karega.`,
        t7: `Sabse zyada miss tumhari hugs hi karta hoon.`,
        t8: `Ek din distance khatam hogaâ€¦ aur main tumhe personally wish karunga.`,
        final: `Aporva Singhâ€¦\nTum sirf meri girlfriend nahi ho,\nTum meri peace ho, meri comfort ho, meri daily happiness ho.\nTumhari existence meri life ko better banati hai.\nAur main genuinely lucky feel karta hoon ki tum meri ho.\nForever your person â¤ï¸`
    };

    function type(text, id) {
        let i = 0;
        const el = document.getElementById(id);
        if (!el) return;
        el.innerHTML = '';
        const timer = setInterval(() => {
            el.innerHTML += text[i];
            i++;
            if (i >= text.length) clearInterval(timer);
        }, 40);
    }

    type(texts.intro, 'intro');

    // --- EMOJI CONFIG ---
    const pageEmoji = {
        p1: ['â¤ï¸', 'ğŸ’–'],
        p2: ['ğŸŒ¹'],
        p3: ['ğŸ’', 'ğŸ’'],
        p4: ['ğŸ«'],
        p5: ['ğŸ§¸', 'ğŸ€'],
        p6: ['ğŸ¤', 'ğŸ¤'],
        p7: ['ğŸ«‚'],
        p8: ['ğŸ’‹', 'ğŸ’'],
        p9: ['â¤ï¸', 'ğŸ’–', 'ğŸ’˜'],
        p10: ['â“', 'ğŸ¥º'],
        p11: ['ğŸ‰', 'ğŸ’', 'ğŸ”’']
    };

    const cursorEmoji = {
        p1: 'â¤ï¸',
        p2: 'ğŸŒ¹',
        p3: 'ğŸ’',
        p4: 'ğŸ«',
        p5: 'ğŸ§¸',
        p6: 'ğŸ¤',
        p7: 'ğŸ«‚',
        p8: 'ğŸ’',
        p9: 'ğŸ’˜',
        p10: 'â“',
        p11: 'ğŸ‰'
    };

    function changeCursor(emoji) {
        const svg = `
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                <text y="28" font-size="28">${emoji}</text>
            </svg>
        `;
        const url = `data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(svg)))}`;
        document.body.style.cursor = `url(${url}) 16 16, auto`;
    }

    changeCursor(cursorEmoji['p1']);

    let particleInterval = null;

    function startParticles(pageId) {
        stopParticles();
        const emojis = pageEmoji[pageId] || ['â¤ï¸'];
        particleInterval = setInterval(() => {
            createParticle(emojis);
        }, 300);
    }

    function createParticle(emojiArray) {
        const p = document.createElement('div');
        p.className = 'particle';
        const randomEmoji = emojiArray[Math.floor(Math.random() * emojiArray.length)];
        p.textContent = randomEmoji;
        p.style.left = Math.random() * 100 + 'vw';
        p.style.fontSize = (Math.random() * 20 + 30) + 'px'; 
        p.style.animationDuration = (Math.random() * 2 + 3) + 's'; 
        document.body.appendChild(p);
        setTimeout(() => { p.remove(); }, 5000);
    }

    function stopParticles() {
        if (particleInterval) {
            clearInterval(particleInterval);
            particleInterval = null;
        }
    }

    startParticles('p1');

    function next(n) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        
        const id = 'p' + n;
        const nextPage = document.getElementById(id);
        if(nextPage) {
            nextPage.classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            startParticles(id);
            if(cursorEmoji[id]) changeCursor(cursorEmoji[id]);

            if (texts['t' + n]) type(texts['t' + n], 't' + n);
            if (n === 9) type(texts.final, 'final');
            
            // Celebration confetti for the final yes!
            if (n === 11) {
                 // 1. Emoji Rain
                 for(let i=0; i<30; i++) createParticle(['ğŸ‰', 'â¤ï¸', 'ğŸ’']);
                 
                 // 2. REAL CONFETTI POP (using the library)
                 confetti({
                    particleCount: 150,
                    spread: 80,
                    origin: { y: 0.6 }
                 });
            }

            startMusic();
        }
    }

    let musicStarted = false;
    function startMusic() {
        if (musicStarted) return;
        const audio = document.getElementById('bgm');
        audio.volume = 0.5;
        audio.play().catch(error => { console.log("Click to play"); });
        musicStarted = true;
    }
</script>
</body>
</html>
